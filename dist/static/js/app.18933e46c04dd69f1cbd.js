webpackJsonp([1],{"+skl":function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layout",attrs:{id:"app"}},[e("Sider",{style:{position:"fixed",height:"100vh",left:0,overflow:"auto"}}),this._v(" "),e("Layout",{style:{marginLeft:"200px"}},[e("Content",{style:{padding:"0 16px 16px"}},[e("router-view")],1)],1)],1)},staticRenderFns:[]},o=a("VU/8")({name:"app"},s,!1,function(t){a("eTzD")},null,null).exports,i=a("/ocq"),r={name:"Home",data:function(){return{currentTasks:[],lastTasks:[],finishedTasks:[],taskName:"",loading:!1}},mounted:function(){this.homeTasks()},methods:{homeTasks:function(){this.$Loading.start();var t=this;this.$http.get("http://api.oobss.com/tasks/main").then(function(e){t.currentTasks=e.data.data.currentTasks,t.lastTasks=e.data.data.lastTasks,t.finishedTasks=e.data.data.finishedTasks,t.$Loading.finish()}).catch(function(e){console.log(e),t.$Loading.error()})},putTask:function(){var t=this;this.$http.post("http://api.oobss.com/tasks",{name:t.taskName}).then(function(e){1!=e.data.retCode&&t.$Message.error(e.data.errMsg),t.homeTasks(),t.taskName=""}).catch(function(t){console.log(t)})},showDoneBtn:function(t){},fixTask:function(t){this.loading=!0;var e=this;this.$http.patch("http://api.oobss.com/tasks",{id:t}).then(function(t){1!=t.data.retCode&&e.$Message.error(t.data.errMsg),e.homeTasks(),e.loading=!1}).catch(function(t){console.log(t)})},handleReachBottom:function(){}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Card",[a("div",{staticStyle:{height:"100px"}},[a("h1",[t._v("拖后")]),t._v(" "),a("ul",t._l(t.lastTasks,function(e){return a("li",{key:e.id},[t._v(t._s(e.name)+"("+t._s(e.time)+")")])}))])]),t._v(" "),a("Card",[a("div",{staticStyle:{height:"400px"}},[a("h1",[t._v("今日待办")]),t._v(" "),a("Scroll",{attrs:{"on-reach-bottom":t.handleReachBottom}},[a("ul",t._l(t.currentTasks,function(e){return a("li",{key:e.id},[a("div",{staticClass:"task",on:{mouseenter:t.showDoneBtn}},[a("div",{staticClass:"task-text"},[t._v("\n                      "+t._s(e.name)+"\n                  ")]),t._v(" "),a("div",{staticClass:"btn-finish"},[a("Button",{attrs:{type:"text",shape:"circle",icon:"checkmark-round",loading:t.loading},on:{click:function(a){t.fixTask(e.id)}}})],1)])])}))]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.taskName,expression:"taskName"}],attrs:{placeholder:"添加任务······"},domProps:{value:t.taskName},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.putTask(e)},input:function(e){e.target.composing||(t.taskName=e.target.value)}}})],1)]),t._v(" "),a("Card",[a("div",{staticStyle:{height:"100px"}},[a("h1",[t._v("完成了")]),t._v(" "),a("ul",t._l(t.finishedTasks,function(e){return a("li",{key:e.id},[t._v(t._s(e.name))])}))])])],1)},staticRenderFns:[]},u=a("VU/8")(r,c,!1,function(t){a("Pq5b")},"data-v-58ccb44e",null).exports;n.default.use(i.a);var l=new i.a({routes:[{path:"/",name:"Home",component:u}]}),d=a("BTaQ"),h=a.n(d),p=(a("+skl"),a("mtWM")),f=a.n(p);n.default.use(h.a),n.default.prototype.$http=f.a,n.default.config.productionTip=!1,new n.default({el:"#app",router:l,template:"<App/>",components:{App:o}})},Pq5b:function(t,e){},eTzD:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.18933e46c04dd69f1cbd.js.map