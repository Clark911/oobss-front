webpackJsonp([1],{"+skl":function(t,a){},"9jR+":function(t,a){},NHnr:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=s("7+uW"),n={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"layout",attrs:{id:"app"}},[a("Layout",{style:{marginLeft:"0"}},[a("Content",{style:{padding:"0 16px 16px"}},[a("router-view")],1)],1)],1)},staticRenderFns:[]},o=s("VU/8")({name:"app"},n,!1,function(t){s("9jR+")},null,null).exports,i=s("/ocq"),c={name:"Home",data:function(){return{currentTasks:[],lastTasks:[],finishedTasks:[],taskName:"",loading:!1}},mounted:function(){this.homeTasks()},methods:{homeTasks:function(){this.$Loading.start();var t=this;this.$http.get("http://api.oobss.com/tasks/main").then(function(a){t.currentTasks=a.data.data.currentTasks,t.lastTasks=a.data.data.lastTasks,t.finishedTasks=a.data.data.finishedTasks,t.$Loading.finish()}).catch(function(a){console.log(a),t.$Loading.error()})},putTask:function(){var t=this;this.$http.post("http://api.oobss.com/tasks",{name:t.taskName}).then(function(a){1!=a.data.retCode&&t.$Message.error(a.data.errMsg),t.homeTasks(),t.taskName=""}).catch(function(t){console.log(t)})},showDoneBtn:function(t){},showBackBtn:function(t){},fixTask:function(t){this.loading=!0;var a=this;this.$http.patch("http://api.oobss.com/tasks",{id:t}).then(function(t){1!=t.data.retCode&&a.$Message.error(t.data.errMsg),a.homeTasks(),a.loading=!1}).catch(function(t){console.log(t)})},backTask:function(t){this.loading=!0;var a=this;this.$http.patch("http://api.oobss.com/tasks/back",{id:t}).then(function(t){1!=t.data.retCode&&a.$Message.error(t.data.errMsg),a.homeTasks(),a.loading=!1}).catch(function(t){console.log(t)})},deleteTask:function(t){this.loading=!0;var a=this;this.$http.delete("http://api.oobss.com/tasks",{params:{id:t}}).then(function(t){1!=t.data.retCode&&a.$Message.error(t.data.errMsg),a.homeTasks(),a.loading=!1}).catch(function(t){console.log(t)})},handleReachBottom:function(){}}},r={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("Card",[s("div",{staticStyle:{height:"100px"}},[s("h1",[t._v("拖后")]),t._v(" "),s("Scroll",{attrs:{"on-reach-bottom":t.handleReachBottom}},[s("ul",t._l(t.lastTasks,function(a){return s("li",{key:a.id},[t._v(t._s(a.name)+"("+t._s(a.time)+")")])}))])],1)]),t._v(" "),s("Card",[s("div",{staticStyle:{height:"400px"}},[s("h1",[t._v("今日待办")]),t._v(" "),s("Scroll",{attrs:{"on-reach-bottom":t.handleReachBottom}},[s("ul",t._l(t.currentTasks,function(a){return s("li",{key:a.id},[s("div",{staticClass:"task",on:{mouseenter:t.showDoneBtn}},[s("div",{staticClass:"task-text"},[t._v("\n                      "+t._s(a.name)+"\n                  ")]),t._v(" "),s("div",{staticClass:"btn-finish"},[s("Button",{attrs:{type:"text",shape:"circle",icon:"checkmark-round",size:"small",loading:t.loading},on:{click:function(s){t.fixTask(a.id)}}})],1)])])}))]),t._v(" "),s("Input",{attrs:{placeholder:"添加任务······"},on:{"on-enter":t.putTask},model:{value:t.taskName,callback:function(a){t.taskName=a},expression:"taskName"}})],1)]),t._v(" "),s("Card",[s("div",{staticStyle:{height:"100px"}},[s("h1",[t._v("完成了")]),t._v(" "),s("Scroll",{attrs:{"on-reach-bottom":t.handleReachBottom}},[s("ul",t._l(t.finishedTasks,function(a){return s("li",{key:a.id},[s("div",{staticClass:"task",on:{mouseenter:t.showBackBtn}},[s("div",{staticClass:"task-text"},[t._v("\n                "+t._s(a.name)+"\n            ")]),t._v(" "),s("div",{staticClass:"btn-finish"},[s("Button",{attrs:{type:"text",shape:"circle",icon:"reply",size:"small",loading:t.loading},on:{click:function(s){t.backTask(a.id)}}}),t._v(" "),s("Button",{attrs:{type:"text",shape:"circle",icon:"trash-a",size:"small",loading:t.loading},on:{click:function(s){t.deleteTask(a.id)}}})],1)])])}))])],1)])],1)},staticRenderFns:[]},l=s("VU/8")(c,r,!1,function(t){s("WMoa")},"data-v-9b408b30",null).exports;e.default.use(i.a);var d=new i.a({routes:[{path:"/",name:"Home",component:l}]}),h=s("BTaQ"),u=s.n(h),p=(s("+skl"),s("mtWM")),k=s.n(p);e.default.use(u.a),e.default.prototype.$http=k.a,e.default.config.productionTip=!1,new e.default({el:"#app",router:d,template:"<App/>",components:{App:o}})},WMoa:function(t,a){}},["NHnr"]);
//# sourceMappingURL=app.2532a881245d81868f8d.js.map